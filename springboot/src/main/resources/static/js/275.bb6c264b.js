"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[275],{4275:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});t(4114);var l=t(6768),u=t(144),i=t(8355),n=t(9470);function s(e){return(0,n.J)("/h/getHPictureRandomList",e)}const c={id:"hPictureLeftImage"},r={id:"hPictureRightImage"},o=(0,l.Lk)("p",{class:"HFilesPictuire-load-button-p"},"点击加载更多",-1),d=(0,l.Lk)("p",{class:"HFilesPictuire-load-button-p"},"没有更多了",-1);var v=(0,l.pM)({__name:"HfilesPicture",setup(e){let a=(0,u.KR)([]),t=(0,u.KR)([]),n=(0,u.KR)(window.innerHeight-140+"px"),v=(0,u.KR)([]),f=(0,u.KR)(),g=(0,u.KR)(-1),h=(0,u.KR)(!1),k=(0,u.KR)(!1);const R=(e,l)=>new Promise(((u,n)=>{const s=new Image;s.onload=()=>{const s=document.getElementById("hPictureLeftImage"),c=document.getElementById("hPictureRightImage");if(s&&c){const n=s.offsetHeight,r=c.offsetHeight;n>r?t.value.push(i.A.defaults.baseURL+"/hPicture/"+e+"."+l):a.value.push(i.A.defaults.baseURL+"/hPicture/"+e+"."+l),u()}else n(new Error("Container not found"))},s.src=i.A.defaults.baseURL+"/hPicture/"+e+"."+l})),w=async()=>{const e=await s({});v.value=e.data,f.value=e.data.length-1},b=async(e,a)=>{for(let t=e;t<=a;t++)await R(v.value[t].id,v.value[t].filename)},p=async()=>{g.value+10<=f.value?(await b(g.value+1,g.value+10),g.value=g.value+10):(await b(g.value+1,f.value),g.value=f.value),g.value>=f.value&&(h.value=!0)},P=async()=>{k.value=!0,await p(),k.value=!1};(0,l.sV)((async()=>{await w(),await p()}));const m=e=>{},F=()=>{n.value=window.innerHeight-140+"px"};return F(),window.addEventListener("resize",F),(e,i)=>{const s=(0,l.g2)("el-image"),v=(0,l.g2)("el-card"),f=(0,l.g2)("el-col"),g=(0,l.g2)("el-row"),R=(0,l.g2)("el-scrollbar"),w=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(R,{onScroll:i[0]||(i[0]=e=>m(e)),height:(0,u.R1)(n)},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,{span:12},{default:(0,l.k6)((()=>[(0,l.Lk)("div",c,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,u.R1)(a),((e,a)=>((0,l.uX)(),(0,l.Wv)(v,{key:a,class:"HFilesPictuire-card"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{src:e},null,8,["src"])])),_:2},1024)))),128))])])),_:1}),(0,l.bF)(f,{span:12},{default:(0,l.k6)((()=>[(0,l.Lk)("div",r,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,u.R1)(t),((e,a)=>((0,l.uX)(),(0,l.Wv)(v,{key:a,class:"HFilesPictuire-card"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{src:e},null,8,["src"])])),_:2},1024)))),128))])])),_:1})])),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",null,[(0,u.R1)(h)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(v,{key:0,class:"HFilesPictuire-load-button-card",onClick:P},{default:(0,l.k6)((()=>[o])),_:1})),(0,u.R1)(h)?((0,l.uX)(),(0,l.Wv)(v,{key:1,class:"HFilesPictuire-load-button-card"},{default:(0,l.k6)((()=>[d])),_:1})):(0,l.Q3)("",!0)])),[[w,(0,u.R1)(k)]])])),_:1},8,["height"])])}}});const f=v;var g=f}}]);
//# sourceMappingURL=275.bb6c264b.js.map