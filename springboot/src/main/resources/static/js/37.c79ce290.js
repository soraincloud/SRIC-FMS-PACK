"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[37],{6142:function(e,a,l){l.d(a,{EY:function(){return o},T:function(){return s},s8:function(){return i},uf:function(){return t}});var c=l(9470);function t(e){return(0,c.J)("/h/getHComicList",e)}function o(e){return(0,c.J)("/h/getHComicById",e)}function i(e){return(0,c.J)("/h/getHComicTagList",e)}function s(e){return(0,c.b)("/h/addHComicTag",e)}},37:function(e,a,l){l.r(a),l.d(a,{default:function(){return H}});var c=l(6768),t=l(144),o=l(4232),i=l(8355),s=l(6142),n=l(1387);const r={class:"HfilesComic"},u={class:"HfilesComic-search-div"},d={class:"HfilesComic-card-content"},f={class:"HfilesComic-card-details"},m={class:"HfilesComic-card-name-text"},g={class:"HfilesComic-card-tag-text"},p={class:"HfilesComic-card-tag-text"},v={class:"HfilesComic-card-tags-div"},b=(0,c.Lk)("span",{class:"HfilesComic-card-tag-text"},"TAGS:",-1),C={class:"HfilesComic-card-tag-text"},k={class:"HfilesComic-pagination-div"};var y=(0,c.pM)({__name:"HfilesComic",setup(e){const a=(0,n.rd)();let l=(0,t.KR)([]),y=(0,t.KR)(window.innerHeight-225+"px"),h=(0,t.KR)(),H=(0,t.KR)("0"),F=(0,t.KR)("0"),T=(0,t.KR)(1),_=(0,t.KR)(0);(0,c.sV)((()=>{x()}));const x=async()=>{try{const e={searchInput:h.value,mosaicSelect:H.value,categorySelect:F.value,page:T.value},a=await(0,s.uf)(e);_.value=a.data.total,l.value=a.data.hcomicList,l.value.forEach(((e,a)=>{1==e.mosaic?(e.mosaicType="success",e.mosaicText="无修正"):2==e.mosaic?(e.mosaicType="warning",e.mosaicText="有修正"):(e.mosaicType="info",e.mosaicText="修正类别错误"),1==e.category?(e.categoryType="danger",e.categoryText="短篇"):2==e.category?(e.categoryType="primary",e.categoryText="单本"):(e.mosaicType="warning",e.mosaicText="分类类别错误"),e.background="",e.comicCover=i.A.defaults.baseURL+"/hComic/"+e.fileName+"/00001.webp"}))}catch(e){console.error(e)}},R=e=>{l.value[e].background="border-width: 5px;"},w=e=>{l.value[e].background=""},L=e=>{const c=a.resolve({name:"HfilesComicReader",path:"/HfilesComicReader",query:{comic:l.value[e].id}});window.open(c.href,"_blank")},V=()=>{y.value=window.innerHeight-225+"px"};window.addEventListener("resize",V);const K=()=>{x()},E=()=>{x()},M=()=>{x()};return(e,a)=>{const i=(0,c.g2)("search"),s=(0,c.g2)("el-icon"),n=(0,c.g2)("el-button"),x=(0,c.g2)("el-input"),V=(0,c.g2)("el-col"),U=(0,c.g2)("el-option"),X=(0,c.g2)("el-select"),I=(0,c.g2)("el-row"),z=(0,c.g2)("el-image"),J=(0,c.g2)("el-tag"),S=(0,c.g2)("el-card"),A=(0,c.g2)("el-scrollbar"),W=(0,c.g2)("el-pagination");return(0,c.uX)(),(0,c.CE)("div",r,[(0,c.Lk)("div",u,[(0,c.bF)(I,null,{default:(0,c.k6)((()=>[(0,c.bF)(V,{span:12},{default:(0,c.k6)((()=>[(0,c.bF)(x,{modelValue:(0,t.R1)(h),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,t.i9)(h)?h.value=e:h=e),placeholder:"搜索"},{append:(0,c.k6)((()=>[(0,c.bF)(n,{onClick:K},{default:(0,c.k6)((()=>[(0,c.bF)(s,null,{default:(0,c.k6)((()=>[(0,c.bF)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,c.bF)(V,{span:12},{default:(0,c.k6)((()=>[(0,c.bF)(X,{modelValue:(0,t.R1)(H),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,t.i9)(H)?H.value=e:H=e),class:"HfilesComic-search-select",onChange:M},{default:(0,c.k6)((()=>[(0,c.bF)(U,{label:"所有修正",value:"0"}),(0,c.bF)(U,{label:"无修正",value:"1"}),(0,c.bF)(U,{label:"有修正",value:"2"})])),_:1},8,["modelValue"]),(0,c.bF)(X,{modelValue:(0,t.R1)(F),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,t.i9)(F)?F.value=e:F=e),class:"HfilesComic-search-select",onChange:M},{default:(0,c.k6)((()=>[(0,c.bF)(U,{label:"所有类型",value:"0"}),(0,c.bF)(U,{label:"短篇",value:"1"}),(0,c.bF)(U,{label:"单本",value:"2"})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(0,c.bF)(A,{height:(0,t.R1)(y)},{default:(0,c.k6)((()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)((0,t.R1)(l),((e,a)=>((0,c.uX)(),(0,c.Wv)(S,{key:a,onMouseover:e=>R(a),onMouseleave:e=>w(a),onClick:e=>L(a),style:(0,o.Tr)(e.background),class:"HfilesComic-card"},{default:(0,c.k6)((()=>[(0,c.Lk)("div",d,[(0,c.bF)(z,{src:e.comicCover,class:"HfilesComic-card-image",fit:"contain"},null,8,["src"]),(0,c.Lk)("div",f,[(0,c.Lk)("span",m,(0,o.v_)(e.name),1),(0,c.bF)(J,{class:"HfilesComic-card-mosaic-text",effect:"plain",type:e.mosaicType},{default:(0,c.k6)((()=>[(0,c.Lk)("span",g,(0,o.v_)(e.mosaicText),1)])),_:2},1032,["type"]),(0,c.bF)(J,{class:"HfilesComic-card-category-text",effect:"plain",type:e.categoryType,round:""},{default:(0,c.k6)((()=>[(0,c.Lk)("span",p,(0,o.v_)(e.categoryText),1)])),_:2},1032,["type"]),(0,c.Lk)("div",v,[b,((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.hcomicTagList,((e,a)=>((0,c.uX)(),(0,c.Wv)(J,{key:a,class:"HfilesComic-card-tags",effect:"dark",type:"info",size:"small"},{default:(0,c.k6)((()=>[(0,c.Lk)("span",C,(0,o.v_)(e.name),1)])),_:2},1024)))),128))])])])])),_:2},1032,["onMouseover","onMouseleave","onClick","style"])))),128))])),_:1},8,["height"]),(0,c.Lk)("div",k,[(0,c.bF)(W,{layout:"prev, pager, next","current-page":(0,t.R1)(T),"onUpdate:currentPage":a[3]||(a[3]=e=>(0,t.i9)(T)?T.value=e:T=e),onCurrentChange:a[4]||(a[4]=e=>E()),"page-size":20,total:(0,t.R1)(_),"pager-count":5,background:""},null,8,["current-page","total"])])])}}});const h=y;var H=h}}]);
//# sourceMappingURL=37.c79ce290.js.map