"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[745],{4888:function(e,a,l){l.d(a,{KO:function(){return o},Qt:function(){return n},k7:function(){return i},nt:function(){return s}});var t=l(9470);function o(e){return(0,t.J)("/h/getHVideoList",e)}function i(e){return(0,t.J)("/h/getHVideoById",e)}function n(e){return(0,t.J)("/h/getHVideoTagList",e)}function s(e){return(0,t.b)("/h/addHVideoTag",e)}},6745:function(e,a,l){l.r(a),l.d(a,{default:function(){return F}});var t=l(6768),o=l(144),i=l(4232),n=l(4888),s=l(1387);const c={class:"HfilesVideo"},r={class:"HfilesVideo-search-div"},u={style:{float:"right"}},d=(0,t.Lk)("span",{class:"HfilesVideo-showVideoCover-text"},"预览图",-1),g={class:"HfilesVideo-card-name-text"},f={class:"HfilesVideo-card-number-text"},p={class:"HfilesVideo-card-tag-text"},v={class:"HfilesVideo-card-tag-text"},k={class:"HfilesVideo-card-tags-div"},b=(0,t.Lk)("span",{class:"HfilesVideo-card-tag-text"},"TAGS:",-1),y={class:"HfilesVideo-card-tag-text"},V={key:0},m={class:"HfilesVideo-pagination-div"};var h=(0,t.pM)({__name:"HfilesVideo",setup(e){const a=(0,s.rd)();let l=(0,o.KR)([]),h=(0,o.KR)(window.innerHeight-225+"px"),H=(0,o.KR)(),F=(0,o.KR)("0"),T=(0,o.KR)("0"),x=(0,o.KR)(1),_=(0,o.KR)(0),R=(0,o.KR)(!1);(0,t.sV)((()=>{L()}));const L=async()=>{try{const e={searchInput:H.value,mosaicSelect:F.value,categorySelect:T.value,page:x.value},a=await(0,n.KO)(e);_.value=a.data.total,l.value=a.data.hvideoList,l.value.forEach(((e,a)=>{1==e.mosaic?(e.mosaicType="success",e.mosaicText="无修正"):2==e.mosaic?(e.mosaicType="info",e.mosaicText="有修正"):(e.mosaicType="info",e.mosaicText="修正类别错误"),1==e.category?(e.categoryType="danger",e.categoryText="REAL"):2==e.category?(e.categoryType="primary",e.categoryText="3D MMD"):3==e.category?(e.categoryType="warning",e.categoryText="2D"):(e.mosaicType="warning",e.mosaicText="分类类别错误"),e.background=""}))}catch(e){console.error(e)}},w=e=>{l.value[e].background="border-width: 5px;"},C=e=>{l.value[e].background=""},K=e=>{const t=a.resolve({name:"HfilesVideoPlayer",path:"/HfilesVideoPlayer",query:{video:l.value[e].id}});window.open(t.href,"_blank")},M=()=>{h.value=window.innerHeight-225+"px"};window.addEventListener("resize",M);const E=()=>{L()},X=()=>{L()},D=()=>{L()};return(e,a)=>{const n=(0,t.g2)("search"),s=(0,t.g2)("el-icon"),L=(0,t.g2)("el-button"),M=(0,t.g2)("el-input"),U=(0,t.g2)("el-col"),I=(0,t.g2)("el-option"),z=(0,t.g2)("el-select"),A=(0,t.g2)("el-switch"),J=(0,t.g2)("el-row"),P=(0,t.g2)("el-tag"),Q=(0,t.g2)("el-image"),S=(0,t.g2)("el-card"),W=(0,t.g2)("el-scrollbar"),N=(0,t.g2)("el-pagination");return(0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",r,[(0,t.bF)(J,null,{default:(0,t.k6)((()=>[(0,t.bF)(U,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(M,{modelValue:(0,o.R1)(H),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.i9)(H)?H.value=e:H=e),placeholder:"搜索"},{append:(0,t.k6)((()=>[(0,t.bF)(L,{onClick:E},{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(n)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(U,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(z,{modelValue:(0,o.R1)(F),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.i9)(F)?F.value=e:F=e),class:"HfilesVideo-search-select",onChange:D},{default:(0,t.k6)((()=>[(0,t.bF)(I,{label:"所有修正",value:"0"}),(0,t.bF)(I,{label:"无修正",value:"1"}),(0,t.bF)(I,{label:"有修正",value:"2"})])),_:1},8,["modelValue"]),(0,t.bF)(z,{modelValue:(0,o.R1)(T),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.i9)(T)?T.value=e:T=e),class:"HfilesVideo-search-select",onChange:D},{default:(0,t.k6)((()=>[(0,t.bF)(I,{label:"所有类型",value:"0"}),(0,t.bF)(I,{label:"REAL",value:"1"}),(0,t.bF)(I,{label:"3D MMD",value:"2"}),(0,t.bF)(I,{label:"2D",value:"3"})])),_:1},8,["modelValue"]),(0,t.Lk)("div",u,[(0,t.bF)(A,{modelValue:(0,o.R1)(R),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.i9)(R)?R.value=e:R=e)},null,8,["modelValue"]),d])])),_:1})])),_:1})]),(0,t.bF)(W,{height:(0,o.R1)(h)},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,o.R1)(l),((e,a)=>((0,t.uX)(),(0,t.Wv)(S,{key:a,onMouseover:e=>w(a),onMouseleave:e=>C(a),onClick:e=>K(a),style:(0,i.Tr)(e.background),class:"HfilesVideo-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",g,(0,i.v_)(e.name),1),(0,t.Lk)("span",f,(0,i.v_)(e.number),1),(0,t.bF)(P,{class:"HfilesVideo-card-mosaic-text",effect:"plain",type:e.mosaicType},{default:(0,t.k6)((()=>[(0,t.Lk)("span",p,(0,i.v_)(e.mosaicText),1)])),_:2},1032,["type"]),(0,t.bF)(P,{class:"HfilesVideo-card-category-text",effect:"plain",type:e.categoryType,round:""},{default:(0,t.k6)((()=>[(0,t.Lk)("span",v,(0,i.v_)(e.categoryText),1)])),_:2},1032,["type"]),(0,t.Lk)("div",k,[b,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.hvideoTagList,((e,a)=>((0,t.uX)(),(0,t.Wv)(P,{key:a,class:"HfilesVideo-card-tags",effect:"dark",type:"info",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",y,(0,i.v_)(e.name),1)])),_:2},1024)))),128))]),(0,o.R1)(R)?((0,t.uX)(),(0,t.CE)("div",V,[e.isVideoCoverNotNull?((0,t.uX)(),(0,t.Wv)(Q,{key:0,src:e.videoCover,class:"HfilesVideo-card-image"},null,8,["src"])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)])),_:2},1032,["onMouseover","onMouseleave","onClick","style"])))),128))])),_:1},8,["height"]),(0,t.Lk)("div",m,[(0,t.bF)(N,{layout:"prev, pager, next","current-page":(0,o.R1)(x),"onUpdate:currentPage":a[4]||(a[4]=e=>(0,o.i9)(x)?x.value=e:x=e),onCurrentChange:a[5]||(a[5]=e=>X()),"page-size":20,total:(0,o.R1)(_),"pager-count":5,background:""},null,8,["current-page","total"])])])}}});const H=h;var F=H}}]);
//# sourceMappingURL=745.cb70b094.js.map