"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[533],{6142:function(e,a,l){l.d(a,{EY:function(){return i},T:function(){return n},s8:function(){return c},uf:function(){return s}});var t=l(9470);function s(e){return(0,t.J)("/h/getHComicList",e)}function i(e){return(0,t.J)("/h/getHComicById",e)}function c(e){return(0,t.J)("/h/getHComicTagList",e)}function n(e){return(0,t.b)("/h/addHComicTag",e)}},8533:function(e,a,l){l.r(a),l.d(a,{default:function(){return z}});var t=l(6768),s=l(4232),i=l(144),c=l(8355),n=l(1387),o=l(1219),d=l(6142);const u={class:"common-body-set-width"},r={class:"HfilesComicReader-header-name"},f=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"文件名称:",-1),m={class:"HfilesComicReader-text"},p=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"类别:",-1),g={class:"HfilesVideo-card-tag-text"},v={class:"HfilesVideo-card-tag-text"},R=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"TAGS:",-1),k={class:"HfilesVideo-card-tag-text"},y=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"操作:",-1),C=(0,t.Lk)("span",{class:"HfilesComicReader-add-button-text"},"添加此 tag",-1),b={class:"HfilesComicReader-comic-card-body"},H={key:0},_=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"文件名称:",-1),T={class:"HfilesComicReader-text"},L=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"类别:",-1),h={class:"HfilesVideo-card-tag-text"},F={class:"HfilesVideo-card-tag-text"},x=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"TAGS:",-1),w={class:"HfilesVideo-card-tag-text"},K=(0,t.Lk)("p",{class:"HfilesComicReader-title"},"操作:",-1),V=(0,t.Lk)("span",{class:"HfilesComicReader-add-button-text"},"添加此 tag",-1);var X=(0,t.pM)({__name:"HfilesComicReader",setup(e){const a=(0,n.lq)();let l=(0,i.KR)({}),X=(0,i.KR)([]),E=(0,i.KR)(window.innerHeight-205+"px"),z=(0,i.KR)({}),I=(0,i.KR)(!0),W=(0,i.KR)(),A=(0,i.KR)("200px"),J=(0,i.KR)(!1);const U=async()=>{const e=await(0,d.EY)({id:a.query.comic});l.value=e.data.hcomic,1==l.value.mosaic?(l.value.mosaicType="success",l.value.mosaicText="无修正"):2==l.value.mosaic?(l.value.mosaicType="warning",l.value.mosaicText="有修正"):(l.value.mosaicType="info",l.value.mosaicText="修正类别错误"),1==l.value.category?(l.value.categoryType="danger",l.value.categoryText="短篇"):2==l.value.category?(l.value.categoryType="primary",l.value.categoryText="单本"):(l.value.mosaicType="info",l.value.mosaicText="分类类别错误"),X.value=e.data.hcomicPages,X.value.forEach(((e,a)=>{X.value[a]=c.A.defaults.baseURL+e}))},q=async()=>{const e=await(0,d.s8)({});z.value=e.data},G=async()=>{const e={comicId:l.value.id,tagId:W.value},a=await(0,d.T)(e);200==a.data.code?(0,o.nk)({message:"添加成功",type:"success"}):400==a.data.code?(0,o.nk)({message:"已有此tag",type:"warning"}):(0,o.nk)({message:"参数异常",type:"error"}),W.value="",I.value=!0,U()};(0,t.sV)((async()=>{U(),q()}));const P=()=>{I.value=!1},S=()=>{G()},Y=()=>{window.innerWidth<800?(J.value=!0,A.value="0px"):(J.value=!1,A.value="200px"),E.value=window.innerHeight-205+"px"};return Y(),window.addEventListener("resize",Y),(e,a)=>{const c=(0,t.g2)("el-header"),n=(0,t.g2)("el-tag"),o=(0,t.g2)("el-option"),d=(0,t.g2)("el-select"),U=(0,t.g2)("Plus"),q=(0,t.g2)("el-icon"),G=(0,t.g2)("el-button"),Y=(0,t.g2)("el-popconfirm"),B=(0,t.g2)("el-aside"),M=(0,t.g2)("el-image"),N=(0,t.g2)("el-card"),Q=(0,t.g2)("el-scrollbar"),j=(0,t.g2)("el-main"),D=(0,t.g2)("el-container");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.bF)(D,null,{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.Lk)("span",r,(0,s.v_)((0,i.R1)(l).name),1)])),_:1}),(0,t.bF)(D,null,{default:(0,t.k6)((()=>[(0,t.bF)(B,{width:(0,i.R1)(A)},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[f,(0,t.Lk)("p",m,(0,s.v_)((0,i.R1)(l).fileName),1),p,(0,t.bF)(n,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(l).mosaicType},{default:(0,t.k6)((()=>[(0,t.Lk)("span",g,(0,s.v_)((0,i.R1)(l).mosaicText),1)])),_:1},8,["type"]),(0,t.bF)(n,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(l).categoryType,round:""},{default:(0,t.k6)((()=>[(0,t.Lk)("span",v,(0,s.v_)((0,i.R1)(l).categoryText),1)])),_:1},8,["type"]),R,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,i.R1)(l).hcomicTagList,((e,a)=>((0,t.uX)(),(0,t.Wv)(n,{key:a,class:"HfilesComicReader-tag",effect:"dark",type:"info",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",k,(0,s.v_)(e.name),1)])),_:2},1024)))),128)),y,(0,t.bF)(d,{class:"HfilesComicReader-add-select",modelValue:(0,i.R1)(W),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.i9)(W)?W.value=e:W=e),onChange:P,size:"small"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,i.R1)(z),((e,a)=>((0,t.uX)(),(0,t.Wv)(o,{key:a,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),(0,t.bF)(Y,{title:"确定添加?",onConfirm:S},{reference:(0,t.k6)((()=>[(0,t.bF)(G,{class:"HfilesComicReader-add-button",size:"small",type:"primary",disabled:(0,i.R1)(I),plain:""},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(U)])),_:1}),C])),_:1},8,["disabled"])])),_:1})])])),_:1},8,["width"]),(0,t.bF)(j,null,{default:(0,t.k6)((()=>[(0,t.bF)(Q,{height:(0,i.R1)(E)},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,i.R1)(X),((e,a)=>((0,t.uX)(),(0,t.Wv)(N,{class:"HfilesComicReader-comic-card"},{default:(0,t.k6)((()=>[(0,t.bF)(M,{src:e,lazy:""},null,8,["src"])])),_:2},1024)))),256))]),(0,i.R1)(J)?((0,t.uX)(),(0,t.CE)("div",H,[_,(0,t.Lk)("p",T,(0,s.v_)((0,i.R1)(l).filename),1),L,(0,t.bF)(n,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(l).mosaicType},{default:(0,t.k6)((()=>[(0,t.Lk)("span",h,(0,s.v_)((0,i.R1)(l).mosaicText),1)])),_:1},8,["type"]),(0,t.bF)(n,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(l).categoryType,round:""},{default:(0,t.k6)((()=>[(0,t.Lk)("span",F,(0,s.v_)((0,i.R1)(l).categoryText),1)])),_:1},8,["type"]),x,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,i.R1)(l).hcomicTagList,((e,a)=>((0,t.uX)(),(0,t.Wv)(n,{key:a,class:"HfilesComicReader-tag",effect:"dark",type:"info",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",w,(0,s.v_)(e.name),1)])),_:2},1024)))),128)),K,(0,t.bF)(d,{class:"HfilesComicReader-add-select",modelValue:(0,i.R1)(W),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,i.i9)(W)?W.value=e:W=e),onChange:P,size:"small"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,i.R1)(z),((e,a)=>((0,t.uX)(),(0,t.Wv)(o,{key:a,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),(0,t.bF)(Y,{title:"确定添加?",onConfirm:S},{reference:(0,t.k6)((()=>[(0,t.bF)(G,{class:"HfilesComicReader-add-button",size:"small",type:"primary",disabled:(0,i.R1)(I),plain:""},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(U)])),_:1}),V])),_:1},8,["disabled"])])),_:1})])):(0,t.Q3)("",!0)])),_:1},8,["height"])])),_:1})])),_:1})])),_:1})])}}});const E=X;var z=E}}]);
//# sourceMappingURL=533.31f85038.js.map